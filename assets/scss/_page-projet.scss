@use 'color';
@use 'mquery';
@use 'typo';
@use 'global';

:root {
    //couleur de fond de la page
    --fond-page-projet: #{color.$ambiance-100};

    // fond et couleur de texte des encarts gros titres du header et des sections du projet
    --fond-titre-projet: #{color.$secondary-100};
    --couleur-titre-projet: #ffffff;

    // couleur des paragraphes de texte
    --couleur-texte-projet: #ffffff;

    // couleur distinctive du projet, utilisée sur les boutons, bullet points, petits titres...
    --couleur-focus-projet: #{color.$primary-100};
    --couleur-focus-bis-projet: #{color.$primary-120};

    // couleur des éléments en opposition avec le fond (bloc blanc sur fond sombre par ex)
    --couleur-contraste-projet: #ffffff;

    // couleur lignes de séparation entre des éléments
    --couleur-ligne-projet: #{color.$ambiance-80};

    // couleurs globale des cadres scrollables
    --cadre-scroll-base-color:#E6E6E6;
    --cadre-scroll-tab1-color:#D7D7D7;
    --cadre-scroll-tab2-color:#B5B5B5;
    --cadre-scroll-icons-color:#535353;
}

// personnalisation du highlight texte
//code firefox
::-moz-selection {
    color: #ffffff;
    background: var(--couleur-focus-projet);
}
  
::selection {
    color: #ffffff;
    background: var(--couleur-focus-projet);
}

body {
    background: var(--fond-page-projet);

    
}

main {
    min-height: 90vh;
}

// --------------- Section de l'image d'en-tête et du titre du projet ---------------
#Header_projet {
    position: relative;
    z-index: 5;
    overflow: hidden;
    width: 100%;
    height: 100vh;
    padding: 100px 35px 20px 35px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-image: url("../svg/pattern-proj-header-placeholder-01.svg");
    background-repeat: repeat;
    background-size: 145px;
    background-position: center;
    box-shadow: 0 8px 25px 0 rgba(216, 214, 216, 0.2);
    transition: height 800ms ease;

    // media query header page
    @include mquery.laptop {   
        padding: 130px 35px 20px 35px;
        transition: height 500ms ease;
        margin-bottom: 100px;
    }

    &.header-scrolled {
        height: 400px;
    }

    // Titre du projet
    #Titre_page {
        max-width: 100%;
        overflow-wrap: break-word;
        -ms-hyphens: auto;
        -moz-hyphens: auto;
        -webkit-hyphens: auto;
        hyphens: auto;
        @include typo.special-title($color:var(--couleur-titre-projet), $weight:800);
        font-size: 42px;
        text-align: center;
        line-height: 1.3;
        margin: auto;
        padding: 18px 30px 24px 30px;
        background: rgba(66, 153, 133, 0.9);
        transition: font-size 800ms ease, transform 800ms ease;

        // media query #Titre_page
        @include mquery.laptop {   
            font-size: 58px;
            transition: font-size 500ms ease, transform 500ms ease;
        }

        // media query #Titre_page
        @include mquery.tv {   
            font-size: 90px;
        }

        &.header-titre-scrolled {
            transform: translateY(110px);

            // media query #Titre_page
            @include mquery.laptop { 
                transform: translateY(80px);  
                font-size: 42px;
            }

            // media query #Titre_page
            @include mquery.tv {   
                font-size: 60px;
            }
        }
    }

    // Bouton pour scroller le header vers le bas
    #Scroll_btn_header {
        position: relative;
        display: flex;
        min-width: 50px;
        width: 50px;
        height: 50px;
        min-height: 50px;
        border-radius: 50px;
        background: #ffffff;
        cursor: pointer;
        margin-bottom: 100px;
        transition: transform 800ms ease, box-shadow 200ms linear;
        box-shadow: 0px 0px 18px 0 rgba(255, 255, 255, 0.15);

        // media query bouton scroll du header
        @include mquery.laptop {
            transition: transform 500ms ease, box-shadow 200ms linear;   
            margin-bottom: 50px;
        }

        &:hover {
            box-shadow: 0px 0px 20px 0 rgba(255, 255, 255, 0.30);
        }

        &.header-btn-scrolled {
            transform: translateY(250px);
        }

        .scroll-btn-header-icon {
            display: block;
            content: '';
            background-image: url("../svg/ico-fleche-scroll-amb100.svg");
            background-position: center;
            background-repeat: no-repeat;
            width: 25px;
            height: 25px;
            margin: auto;
            transition: transform 200ms ease;
            animation: 1s linear infinite anim-scroll-header-btn;
        }

        @keyframes anim-scroll-header-btn {
            0% {
                transform: translateY(0px);
            }

            20% {
                transform: translateY(-1px);
            }

            80% {
                transform: translateY(1px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        &:hover .scroll-btn-header-icon {
            animation: 0;
            transform: translateY(2px);
        }
    }
}

// --------------- Module sommaire ---------------
#Sommaire {
    display: block;
    z-index: 4;
    height: -webkit-fit-content;
    height: -moz-fit-content;
    height: fit-content;
    width: 100%;
    position: fixed;
    bottom: 0;
    left: 0px;
    transform: translateY(100%) translateY(-58px);
    background: rgba(25, 5, 23, 0.9);
    backdrop-filter: blur(4px);
    box-shadow: 0px -4px 10px 0px rgba(166, 156, 164, 0.12);
    border-radius: 20px 20px 0px 0px;
    transition: transform 300ms ease, box-shadow 400ms ease-out;

    // media query #Sommaire
    @include mquery.landscape { 
        bottom: auto;
        top: 100px;
        left: 10px;
        transform: translate(0, 0);
        width: -moz-fit-content;
        width: fit-content;
        border-radius: 20px;
        background: rgba(25, 5, 23, 0.8);
        box-shadow: none;
    }

    // media query #Sommaire
    @include mquery.laptop {
        top: 140px;
        left: 20px;
    }


    // media query #Sommaire
    @include mquery.tv {
        left: 12vw;
    }

    // Barre en haut du sommaire sur mobile
    #Sommaire_top_bar_mobile {
        display: flex;
        flex-wrap: nowrap;
        flex-direction: column;
        align-items: center;
        padding: 12px 0 0 0;
        cursor: pointer;
        border-radius: 20px 20px 0 0;
        transition: background-color 400ms ease-out;

        // Corrige le scintillement du texte sur Firefox Mobile
        will-change: transform;

        // media query #Sommaire_top_bar_mobile
        @include mquery.landscape { 
            display: none;
        }

        // Petite poignée blanche en haut
        .top-mob-handle {
            width: 30px;
            height: 4px;
            border-radius: 50px;
            background: #ffffff;
        }

        // Texte indicatif
        .top-mob-txt {
            margin: 8px auto 10px auto;

            // Placé dans un before pour pouvoir le changer en CSS directement
            &::before {
                content: 'Afficher le sommaire';
                @include typo.title($color:#ffffff, $weight:700);
                font-size: 18px;
                text-align: center;
            }
        }

        // Trait de séparation
        .top-mob-sep {
            width: 100%;
            height: 2px;
            background-color: color.$primary-100;
            opacity: 0;
        }

    }

    // Barre en haut du sommaire sur desktop
    #Sommaire_top_bar_desktop {
        position: relative;
        display: none;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: start;
        align-items: center;

        // media query #Sommaire_top_bar_desktop
        @include mquery.landscape { 
            display: flex;
        }

        // Bouton icone qui masque ou affiche le sommaire sur desktop
        #Sommaire_switch_desktop {
            width: 30px;
            height: 30px;
            padding: 30px;
            background-color: transparent;
            background-image: url(../svg/ico-sommaire-contour-blanc.svg);
            background-position: center;
            background-size: 30px;
            background-repeat: no-repeat;
            cursor: pointer;
            border-radius: 20px;

            // Code pour contrer style auto bouton
            display: block;
            border: none;

            &:hover {
                background-color: color.$primary-100;
                background-image: url(../svg/ico-sommaire-full-blanc.svg);
            }
        }

        .top-desk-wrapper {
            display: none;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: center;
            align-items: center;
            width: calc(100% - 60px);
            gap: 8px;
        }

        // Icone qui accompagne le titre
        .top-desk-titre-ico {
            width: 30px;
            height: 30px;
            background-image: url("../svg/ico-sommaire-full-blanc.svg");
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }

        // Titre sommaire
        .top-desk-titre {
            @include typo.title($color:#ffffff, $weight:800);
            font-size: 28px;
            margin: 0;
        }

        // Conteneur qui explique aux nouveaux utilisateurs la présence du sommaire
        .eyecatch-desk-box {
            position: absolute;
            top: 50%;
            right: -225px;
            transform: translate(0px, -50%);
            display: none;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: start;
            align-items: center;
            pointer-events: none;
            filter: drop-shadow(0px 0px 3px #000);

            // Animation passive pour attirer encore plus le regard
            -webkit-animation: 500ms ease-in-out 0s infinite alternate eyecatch-desk-idle-anim;
            animation: 500ms ease-in-out 0s infinite alternate eyecatch-desk-idle-anim;

            @keyframes eyecatch-desk-idle-anim {
                from {
                  transform: translate(0px, -50%);
                }
              
                to {
                    transform: translate(-5px, -50%);
                }
              }

            // Icone de flèche
            .eyecatch-desk-arrow {
                display: block;
                width: 30px;
                height: 30px;
                margin-right: 5px;
                background-image: url(../svg/ico-fleche-blanc.svg);
                background-position: center;
                background-size: 30px;
                background-repeat: no-repeat;
            }

            // Texte explicatif
            .eyecatch-desk-txt {
                @include typo.text($color:#ffffff, $weight:600);
                font-size: 20px;
                width: -moz-max-content;
                width: max-content;
                margin: 0;
            }

        }


        
    }

    // Conteneur des liens du sommaire
    #Sommaire_link_wrapper {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: start;
        padding: 12px 20px 40px 20px;
        gap: 6px;
        transition: background-color 400ms ease-out;
        max-height: 90vh;
        overflow: auto;

        // media query #Sommaire_link_wrapper
        @include mquery.tablet {
            padding: 12px 40px 40px 40px;
        }

        // media query #Sommaire_link_wrapper
        @include mquery.landscape { 
           display: none;
           max-height: auto;
        }

        // Lien sommaire
        .som-link {
            @include typo.title($color:#ffffff, $weight:500);
            font-size: 22px;
            padding-top: 3px;
            padding-bottom: 3px;
            text-decoration: none;

            &:hover {
                color: color.$primary-100;
            }

            &.current-link {
                color: color.$primary-100!important;
            }

            // media query .som-link
            @include mquery.landscape { 
                padding-top: 1px;
                padding-bottom: 1px;
            }
        }

        // Lien de sous-partie
        .som-sub-link {
            @include typo.title($color:#ffffff, $weight:400);
            font-size: 20px;
            padding-left: 25px;
        }
    }

    // ----- Règles lorsque le sommaire est visible/ouvert -----
    &.show-sommaire {
        transform: translateY(0px);


        // Barre en haut du sommaire sur mobile
        #Sommaire_top_bar_mobile {

            // Texte indicatif mobile
            .top-mob-txt {

                // Placé dans un before pour pouvoir le changer en CSS directement
                &::before {
                    content: 'Masquer le sommaire';
                }
            }

            // Trait de séparation
            .top-mob-sep {
                opacity: 1;
            }
        }
        
        

        // Règles sur desktop
        @include mquery.landscape { 
            width: 330px;

            // Barre en haut du sommaire sur desktop
            #Sommaire_top_bar_desktop {
                padding: 15px 20px 10px 20px;

                // Bouton icone qui masque ou affiche le sommaire sur desktop
                #Sommaire_switch_desktop {
                    background-image: url(../svg/ico-fleche-blanc.svg);
                    padding: 0px;

                    &:hover {
                        background-color: transparent;
                        background-image: url(../svg/ico-fleche-primary100.svg);
                    }
                }

                .top-desk-wrapper {
                    display: flex;
                }

            }

            // Conteneur des liens du sommaire
            #Sommaire_link_wrapper {
                display: flex;
            }

        }//Fin media query laptop
    }

}

// Animation pour attirer le regarde au sommaire
#Sommaire.eyecatch-anim {
    box-shadow: 0px -5px 28px 0px rgba(166, 156, 164, 0.2);

    @keyframes eyecatchmobile {
        0% {
            background: rgba(25, 5, 23, 0.9);
        }

        50% {
            background: color.$primary-100;
        }

        100% {
            background: rgba(25, 5, 23, 0.9);
        }
    }

    @keyframes eyecatchdesk {
        0% {
            background: rgba(25, 5, 23, 0.9);
        }

        50% {
            background: color.$primary-100;
        }

        100% {
            background: rgba(25, 5, 23, 0.9);
        }
    }

    #Sommaire_top_bar_mobile {
        animation: eyecatchmobile 1s ease-out infinite;
        
    }

    // Sur desktop
    @include mquery.landscape {
        box-shadow: none;
        animation: eyecatchdesk 1s ease-out infinite;
    }

    // Afficher la mention texte tuto sur desktop
    .eyecatch-desk-box {
        display: flex!important;
    }
    
}



// Overlay sommaire pour version mobile
#Overlay_sommaire {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 3;
    background: rgb(0, 0, 0, 0.5);

    &.show-overlay {
        display: block;

        // media query overlay sommaire
        @include mquery.landscape {
            display: none;
        }
    }

}

// Bloquer le scroll quand l'overlay du sommaire est actif
.sommaire-no-scroll, .sommaire-no-scroll body {
    overflow: hidden!important;
    touch-action: none!important;

    // media query .sommaire-no-scroll
    @include mquery.landscape {
        overflow: auto!important;
        touch-action: auto!important;
    }
}

// Classe pour masquer le sommaire entièrement en début de page
#Sommaire.mask-sommaire {
    display: none!important;
    
}

// --------------- Styles partagés des sections ---------------

// Bloc section
.section-projet {
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    padding: 0 30px 200px 30px;
    scroll-margin-top: 140px;

    // media query bloc section
    @include mquery.laptop {
        flex-direction: row;
        flex-wrap: wrap;   
        max-width: 912px;
        padding: 0 0 280px 0;
    }

    // media query bloc section
    @include mquery.desktop-xl { 
        max-width: 1160px;
    }
}

.section-bloc {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 25px;
    margin-bottom: 150px;

    // media query .section-bloc
    @include mquery.laptop {
        margin-bottom: 180px;    

    }

    &:last-of-type {
        margin-bottom: 0px;
    }

}

.section-ligne {
    --gap-section: 30px;

    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--gap-section);
    justify-content: space-between;

    // media query .section-ligne
    @include mquery.landscape {
        flex-direction: row;
        flex-wrap: wrap;  
        
    }

    // media query .section-ligne
    @include mquery.laptop {
        --gap-section: 60px; 

    }

    // media query .section-ligne
    @include mquery.desktop-xl { 
        --gap-section: 100px;

    }

}

.section-colonne {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

// colonne 100% section
.full-col {
    width: 100%;
}

// demi-colonne section
.demi-col {
    width: 100%;

    // media query demi-colonne
    @include mquery.landscape {   
        width: calc(50% - var(--gap-section)/2);
    }
}

// tiers-colonne section
.tiers-col {
    width: 100%;

    // media query .tiers-col
    @include mquery.landscape {   
        width: calc(33% - var(--gap-section)/1.5);
    }
}

.no-gap {
    gap: 0!important;
}

// Titres au début de chaque section
.titre-section {
    @include typo.title($color:var(--couleur-titre-projet), $weight:800);
    font-size: 34px;
    text-align: center;
    background: var(--fond-titre-projet);
    width: 100%;
    margin: 0;
    padding: 22px 15px 20px 15px;
}

// Sous-titres intermédiaires au sein des sections
.titre-secondaire-section {
    @include typo.title($color:var(--couleur-focus-projet), $weight:700);
    font-size: 30px;
    width: 100%;
    margin: 0;
    line-height: 1;

    // media query .titre-secondaire-section
    @include mquery.landscape {   
        font-size: 34px;
    }
}

// Phrase importante mise en valeur
.phrase-forte {
    @include typo.title($color:var(--couleur-texte-projet), $weight:700);
    font-size: 26px;
    margin: 0;

    // media query .phrase-forte
    @include mquery.laptop {   
        font-size: 28px;
    }

    // media query .phrase-forte
    @include mquery.desktop-xl {   
        font-size: 32px;
    }
}

// Paragraphes de texte de base
.bloc-texte {
    display: flex;
    flex-direction: column;
    gap: 15px;

    // media query conteneur paragraphes
    @include mquery.desktop-xl {   
        gap: 18px;
    }
}

.bloc-texte *{
    @include typo.text($color:var(--couleur-texte-projet), $weight:400);
    font-size: 18px;
    margin: 0;

    // media query paragraphes de texte
    @include mquery.laptop {   
        font-size: 20px;
    }

    // media query paragraphes de texte
    @include mquery.desktop-xl {   
        // font-size: 22px;
    }
}


// Listes à puces
.liste-puce-projet {
    margin: 0;
    padding-inline-start: 20px;
    list-style: none;

    li {
        position: relative;
        @include typo.text($color:var(--couleur-texte-projet), $weight:400);
        font-size: 18px;
        margin: 0 0 14px 0;

        &::before {
            content: "";
            height: 7px;
            width: 7px;
            position: absolute;
            top: 0.5em;
            left: -18px;
            transform: rotate(-45deg);
            background: var(--couleur-focus-projet);
        }
    }

    li:last-of-type {
        margin: 0;
    }

}

// Ligne de séparation visuelle
.sep-ligne {
    width: 100%;
    height: 2px;
    background: color.$ambiance-80;
}

.focus-color {
    color: var(--couleur-focus-projet);
}

// --------------- Éléments liés aux cadres scrollables ---------------

// Conteneur version statique cliquable du cadre scrollable
.cadre-trigger {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 0;
    cursor: pointer;

    //Règles spéciales quand c'est la version cliquable pour ouvrir l'overlay
    .cadre-scrollable {
    
        // Effet de hover de l'overlay noir
        &:hover .cadre-trigger-overlay {
            animation: hover-cadre-trigger 0.3s ease-out forwards;
        }

        // Effet de hover du tag instruction
        &:hover .trigger-instruction-tag {
            transform: translate(-50%, -50%) scale(1.05);
        }
    }

    // Overlay sur le contenu qui ouvre le vrai cadre scrollable
    .cadre-trigger-overlay {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.5);
        animation: cadre-overlay-pulse 1.2s ease-in-out infinite alternate;
    }

    @keyframes cadre-overlay-pulse {
        from {
            background: rgba(0, 0, 0, 0.4);
        }
      
        to {
            background: rgba(0, 0, 0, 0.6);
        }
    }

    // Bloc qui contient les instructions d'ouverture de l'overlay de cadre
    .trigger-instruction-tag {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(1);
        background: var(--couleur-focus-projet);
        box-shadow: 0px 0px 15px 0px rgba(255, 255, 255, 0.25);
        width: 75%;
        min-height: 60px;
        padding: 14px 10px 18px 10px;
        border-radius: 10px;
        pointer-events: none;
        -webkit-user-select: none;
        user-select: none;
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        transition: transform 200ms ease-in-out;

        // media query .trigger-instruction-tag
        @include mquery.laptop {
            width: max-content;
            min-height: 70px;
            top: 50%;
            bottom: auto;
            transform: translate(-50%, -50%);
            flex-direction: row;
            padding: 14px 15px 14px 10px;
        }

        // media query .trigger-instruction-tag
        @include mquery.desktop-xl {
            padding: 18px 22px 18px 15px;
        }

        // Icone de l'étiquette qui indique la gesture à suivre
        .trigger-tag-ico {
            min-width: 40px;
            width: 40px;
            min-height: 40px;
            height: 40px;
            background-color: #ffffff;
            -webkit-mask-image: url("../svg/ico-main-gesture-amb120.svg");
            mask-image: url("../svg/ico-main-gesture-amb120.svg");
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            margin-bottom: 3px;
            transform: translate(0, 0);
            animation: click-gesture-mob 1.5s linear infinite;

            // media query .trigger-tag-ico
            @include mquery.laptop {
                width: 40px;
                height: 40px;
                margin-right: 5px;
                margin-bottom: 0px;
            }

            // media query .trigger-tag-ico
            @include mquery.desktop-xl {
                width: 50px;
                height: 50px;
            }

            // Règle uniquement applicable aux appareils non-tactiles
            @media (hover: hover) and (pointer: fine) {
                -webkit-mask-image: url("../svg/ico-pointeur-souris-noir.svg");
                mask-image: url("../svg/ico-pointeur-souris-noir.svg");
                animation: click-gesture-desk 2s linear infinite;
            }
        }

        // Texte de l'étiquette qui indique la gesture à suivre
        .trigger-tag-txt {
            font-family: "Alegreya", sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
            font-size: 22px;
            text-align: center;

            // media query .trigger-tag-txt
            @include mquery.laptop {
                font-size: 28px;
                text-align: left;
            }

            // media query .trigger-tag-txt
            @include mquery.desktop-xl {
                font-size: 32px;
            }

            &::before {
                content: "Appuyez pour découvrir";

                // Règle uniquement applicable aux appareils non-tactiles
                @media (hover: hover) and (pointer: fine) {
                    content: "Cliquez pour découvrir";
                }
            }
        }
    }

    //animation icone mobile trigger cadre
    @keyframes click-gesture-mob {
        0%, 30% {
            transform: scale(1) translateY(0px);
        }

        50% {
            transform: scale(0.9) translateY(-2px);
        }

        70%, 100% {
            transform: scale(1) translateY(0px);
        } 
    }

    //animation icone ordi trigger cadre
    @keyframes click-gesture-desk {
        0%, 30% {
            transform: scale(1) translate(0, 0);
        }

        40% {
            transform: scale(0.85) translate(-1px, -1px);
        }

        50% {
            transform: scale(1) translate(0, 0);
        }

        60% {
            transform: scale(0.85) translate(-1px, -1px);
        }

        70%, 100% {
            transform: scale(1) translate(0, 0);
        } 
    }

    //animation hover trigger cadre
    @keyframes hover-cadre-trigger {
        0% {
            background-color: rgba(0, 0, 0, 0.4);
        }

        100% {
            background-color: rgba(0, 0, 0, 0.8);
        } 
    }
}

// Conteneur parent d'un cadre scrollable
.cadre-scrollable {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 280px;
    aspect-ratio: 9/16;
    outline: 5px solid var(--cadre-scroll-base-color);
    outline-offset: -1px;
    border-radius: 20px;
    box-shadow: 0px -10px 40px 0px rgba(166, 156, 164, 0.25);
    overflow: hidden;
    background: var(--cadre-scroll-base-color);

    // media query .cadre-scrollable
    @include mquery.laptop {
        max-width: 1160px;
        aspect-ratio: 16/9;
        border-radius: 10px 10px 5px 5px;
    }

    // Conteneur intermédiaire pour gérer l'intérieur du cadre si besoin
    .cadre-content-wrapper {
        position: relative;
        overflow: hidden;
        overscroll-behavior: contain;
        border-radius: inherit;

        // Fixe la petite marge fantôme en bas quand le scroll est actif
        margin-bottom: -5px;

        // Contenu image du wrapper
        .cadre-img-content, .cadre-img-content * {
            pointer-events: none;
            -webkit-user-select: none;
            user-select: none;

        }

    }

    .cadre-content-mobile {
        display: block;

        // media query .cadre-content-mobile
        @include mquery.laptop {
           display: none;
        }
    }

    .cadre-content-desktop {
        display: none;

        // media query .cadre-content-desktop
        @include mquery.laptop {
           display: block;
        }
    }

    // Fausse top-bar de navigateur sur les cadres desktop
    .navibar-cadre-desk {
        width: 100%;
        min-height: 15px;
        height: 10vh;
        max-height: 30px;
        background: var(--cadre-scroll-base-color);
        display: none;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        overflow: hidden;

        // media query .navibar-cadre-desk
        @include mquery.laptop {
            display: flex;
        }

        // Section gauche de la fausse barre
        .navivar-left {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            padding-left: 4px;
            align-items: end;
        }

        // Faux onglets
        .navibar-tab {
            width: 150px;
            height: 86%;
            border-radius: 30px 30px 0px 0px;
            background: var(--cadre-scroll-tab1-color);
            position: relative;
            z-index: 2;

            &::before {
                content: '';
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                width: 70%;
                height: 100%;
                border-radius: 4px 0 0 0;
                transform: skewX(-20deg);
                background-color: inherit;
                z-index: -1;
            }

            &::after {
                content: '';
                display: block;
                position: absolute;
                top: 0;
                right: 0;
                width: 70%;
                height: 100%;
                border-radius: 0 4px 0 0;
                transform: skewX(20deg);
                background-color: inherit;
                z-index: -1;
            }

            &:nth-child(2) {
                background: var(--cadre-scroll-tab2-color);
                z-index: 1;
                margin-left: 5px;
            }
        }

        // Section droite de la fausse barre
        .navivar-right {
            display: flex;
            height: 100%;
            flex-direction: row;
            flex-wrap: nowrap;
            padding-right: 15px;
            align-items: center;
            gap: 12px;
        }

        // Fausses icones d'actions de la fenetre du navigateur
        .navibar-ico {
            min-height: 10px;
            height: 50%;
            min-width: 10px;
            width: auto;
            aspect-ratio: 1/1;
            background-color: var(--cadre-scroll-icons-color);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;

            &:nth-child(1) {
                -webkit-mask-image: url("../svg/ico-navibar-reduire.svg");
                mask-image: url("../svg/ico-navibar-reduire.svg");
            }

            &:nth-child(2) {
                -webkit-mask-image: url("../svg/ico-navibar-agrandir.svg");
                mask-image: url("../svg/ico-navibar-agrandir.svg");
            }

            &:nth-child(3) {
                -webkit-mask-image: url("../svg/ico-navibar-fermer.svg");
                mask-image: url("../svg/ico-navibar-fermer.svg");
            }
        }

    }
}

// zone plein écran en overlay qui contient un cadre scrollable et ses éléments complémentaires
.zone-fullscreen-cadre {
    display: none;
    position: fixed;
    left: 0;
    top: 0;
    z-index: 1000;
    width: 100%;
    height: 100%;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: center;
    gap: 5vh;
    align-items: center;
    padding: 50px 15px 15px 15px;
    touch-action: auto;
    overflow: hidden;

    // media query .zone-fullscreen-cadre
    @include mquery.laptop {
        padding: 50px 15px 35px 15px;
    }

    &.open-overlay {
        display: flex;
    }

    /* Overlay noir de fond cliquable pour fermer le mode plein écran */
    .fullcadre-back-overlay {
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
    }

    // Bouton qui permet de fermer l'overlay
    .hide-cadre-btn {
        position: absolute;
        background: #ffffff;
        -webkit-mask-image: url(../svg/ico-close-fullcadre.svg);
        mask-image: url(../svg/ico-close-fullcadre.svg);
        border: none;
        outline: none;
        right: 15px;
        top: 15px;
        min-width: 30px;
        width: 30px;
        min-height: 30px;
        height: 30px;
        cursor: pointer;

        &:hover {
            background: color.$primary-100;
        }

        // media query .hide-cadre-btn
        @include mquery.laptop {
            top: 30px;
            right: 30px;
        }

        // media query .hide-cadre-btn
        @include mquery.desktop-xl {
            height: 40px;
            width: 40px;
        }


    }

    // Zone au dessus du cadre scrollable
    .fullcadre-top-zone {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: center;
        pointer-events: none;

        .legende-visuel-fullcadre {
            @include typo.title($color:#ffffff, $weight:500);
            text-align: center;
            font-size: 26px;
            margin: 0 0 3px 0;
            width: -moz-fit-content;
            width: fit-content;

            // media query .legende-visuel-fullcadre
            @include mquery.desktop-xl {
                font-size: 28px;
            }
        }

        .fullcadre-instruction {
            @include typo.text($color:#ffffff, $weight:400);
            font-size: 18px;
            margin: 0;
            text-align: center;
            font-style: italic;
            width: -moz-fit-content;
            width: fit-content;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: nowrap;
            flex-direction: row;

            // media query .legende-visuel-fullcadre
            @include mquery.desktop-xl {
                font-size: 20px;
            }

            // Icone qui aide la compréhension des instructions
            .fullcadre-instruction-ico {
                display: inline-block;
                min-width: 25px;
                width: 25px;
                min-height: 25px;
                height: 25px;
                background-color: #ffffff;
                -webkit-mask-image: url("../svg/ico-main-gesture-amb120.svg");
                mask-image: url("../svg/ico-main-gesture-amb120.svg");
                background-position: center;
                background-size: cover;
                background-repeat: no-repeat;
                margin: auto 3px auto 0;
                transform: translate(0, 0);
                animation: scroll-gesture-mob 1.5s linear infinite;

                // Fixe un bug sur Firefox qui créé une fausse bordure au moment d'animation rotate
                filter: blur(1px);

                // media query .legende-visuel-fullcadre
                @include mquery.desktop-xl {
                    width: 28px;
                    height: 28px;
                }

                // Règle uniquement applicable aux appareils non-tactiles
                @media (hover: hover) and (pointer: fine) {
                    -webkit-mask-image: url("../svg/ico-souris-gesture-amb120.svg");
                    mask-image: url("../svg/ico-souris-gesture-amb120.svg");
                    animation: scroll-gesture-desk 2s linear infinite;
                }
            }

            // Mot de la phrase a modifier sur mobile/desktop
            .keyword-fullcadre-instru {

                &::before {
                    content: 'votre doigt';
                    margin-left: 5px;

                    // Règle uniquement applicable aux appareils non-tactiles
                    @media (hover: hover) and (pointer: fine) {
                        content: 'la molette de votre souris';
                    }
                }

            }
        }

        // Animation sur mobile icone d'instruction de scroll
        @keyframes scroll-gesture-mob {
            0%, 20% {
                transform: translate(0%, 0%) rotate(0deg);
            }

            30% {
                transform: translate(0%, -3%) rotate(0deg);
            }

            50%, 60% {
                transform: translate(0%, 12%) rotate(-5deg);
            }

            80%, 100% {
                transform: translate(0%, 0%) rotate(0deg);
            } 
        }

        // Animation sur ordi icone d'instruction de scroll
        @keyframes scroll-gesture-desk {
            0%, 20% {
                transform: translate(0%, 0%) rotate(0deg);
            }

            30% {
                transform: translate(0%, -5%) rotate(0deg);
            }

            50%, 60% {
                transform: translate(0%, 8%) rotate(0deg);
            }

            80%, 100% {
                transform: translate(0%, 0%) rotate(0deg);
            } 
        }
    }

    // Règles spécifiques au cadre scrollable dans le contexte fullscreen
    .cadre-scrollable {
        width: auto;
        height: 80%;
        min-height: 300px;
        max-height: 500px;

        // media query .cadre-scrollable
        @include mquery.laptop {
            max-width: unset;
            max-height: 50vw;
        }

        // Règles supplémentaires pour activer le mode "force-mobile" afin d'afficher la version mobile de la masquette sur grand format
        &.force-mobile {
            aspect-ratio: 9/16;
            border-radius: 20px;

            // media query .cadre-scrollable
            @include mquery.laptop {
                // Limiter un peu plus la taille pour éviter que la version mobile soit trop grosse
                max-height: 40vw;
            }

            // Masquer fausse top-bar de navigateur sur les cadres desktop
            .navibar-cadre-desk {
                display: none;
            }

            // Afficher visuel maquette mobile
            .cadre-content-mobile {
                display: block;
            }

            // Masquer visuel maquette mobile
            .cadre-content-desktop {
                display: none;
            }

            // Changer le texte du bouton de switch quand force mobile est actif
            & ~ .fullcadre-bottom-zone .switch-cadre .switch-cadre-txt {

                &::before {
                    content: 'Voir version ordinateur';
                }

            }

        }

        // Rendre le conteneur intermédiaire scrollable en mode fullscreen
        .cadre-content-wrapper {
            overflow-y: auto;
        }

        
    }

    // Zone en dessous du cadre scrollable
    .fullcadre-bottom-zone {
        display: flex;

        // Button permutteur entre la version mobile/desktop du cadre
        .switch-cadre {
            width: -moz-fit-content;
            width: fit-content;
            background: var(--couleur-focus-projet);
            border-radius: 8px;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: center;
            align-items: center;
            padding: 12px 15px;
            cursor: pointer;
            display: none;

            &:hover {
                background: var(--couleur-focus-bis-projet);
            }

            // media query .switch-cadre
            @include mquery.laptop {
                display: flex;
            }

            // Icone
            .switch-cadre-ico {
                width: 30px;
                height: 30px;
                background-color: #ffffff;
                -webkit-mask-image: url("../svg/ico-fleche-rotative.svg");
                mask-image: url("../svg/ico-fleche-rotative.svg");
                background-position: center;
                background-size: cover;
                background-repeat: no-repeat;
                margin-right: 10px;
                transform: rotate(0deg);
                transition: transform 200ms ease-in-out;

                // Fixe un bug sur Firefox qui créé une fausse bordure au moment d'animation rotate
                filter: blur(1px);
            }

            &:hover .switch-cadre-ico {
                transform: rotate(90deg);
            }

            // Conteneur du texte
            .switch-cadre-txt {
                @include typo.text($color:#ffffff, $weight:600);
                font-size: 20px;
                margin: 0;

                &::before {
                    content: 'Voir version mobile';
                }

            }

        }

    }
}

// Parent wrapper qui entoure les éléments d'un cadre scrollable décliné en vidéo
.zone-cadre-video {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 0;

    // Permettre à la vidéo de dépasser un peu le ratio 16/9 pour ne pas être coupée
    .cadre-scrollable {
        aspect-ratio: unset!important;
    }

    // Retirer la contre-marge, car le cadre n'est pas scrollable dans cet état de toute façon
    .cadre-content-wrapper {
        margin-bottom: 0!important;
    }
}

// Bloc contenant une vidéo
.bloc-video {
    width: 100%;
    height: auto;
}

// Conteneur d'un visuel (image ou vidéo)
.bloc-visuel {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin: 0;
}

.legende-visuel {
    @include typo.title($color:#ffffff, $weight:400);
    font-size: 18px;
    font-style: italic;
    text-align: center;
    margin-top: 30px;

    // media query .legende-visuel
    @include mquery.laptop {   
        font-size: 22px;
    }

    a {
        color: var(--couleur-focus-projet);
        text-decoration: none;

        &:hover {
            color: var(--couleur-focus-bis-projet);
        }
    }
}

// --------------- Style liés aux carrousels d'images -----------------

// Classe qui sert à cacher les éléments du carrousel au chargement puis en cliquant sur les boutons suivant/précédent
.hide-carrousel {
    display: none;
}

// Parent conteneur du reste des éléments logiques du carrousel d'images
.carrousel {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;

    .carrousel-inner {

        picture {
            width: -moz-fit-content;
            width: fit-content;
            height: -moz-fit-content;
            height: fit-content;
        }

        img {
            filter: drop-shadow(0px 0px 10px rgba(166, 156, 164, 0.15));
            max-height: 80vh;
            min-width: 200px;
            max-width: 100%;
        }
    }

    .carrousel-controls {
        width: 100%;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        margin-top: 18px;
        gap: 30px;

        // media query .carrousel-controls
        @include mquery.laptop {   
            gap: 50px;
        }

        // Boutons précédent/suivant permettant de changer d'image
        .prev-btn-carrousel,
        .next-btn-carrousel {
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 35px;
            width: 35px;
            min-height: 35px;
            height: 35px;
            padding: 0;
            background-color: #ffffff;
            cursor: pointer;
            border: unset;
            outline: unset;
            border-radius: 5px;
            box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.15);

            // media query .prev-btn-carrousel et .next-btn-carrousel
            @include mquery.laptop {   
                min-width: 50px;
                width: 50px;
                min-height: 50px;
                height: 50px;
            }

            &:hover {
                background-color: color.$ambiance-30;
            }

            .ico-btn-carrousel {
                display: block;
                width: 60%;
                height: 60%;
                background-color: color.$ambiance-160;

                -webkit-mask-image: url(/assets/svg/ico-chevron-simple.svg);
                mask-image: url(/assets/svg/ico-chevron-simple.svg);

                -webkit-mask-repeat: no-repeat;
                mask-repeat: no-repeat;
                -webkit-mask-position: center;
                mask-position: center;
                -webkit-mask-size: contain;
                mask-size: contain;
            }

            
        }

        // Règles pour adapter l'icone commune aux besoins du bouton précédent
        .prev-btn-carrousel .ico-btn-carrousel {
            transform: rotate(180deg);
        }

    }

    .legende-visuel {
        margin-top: 8px;
    }

}



// --------------- Style des éléments post-it ---------------

// Conteneur post-it
.post-it-wrapper {
    --post-it-size:130px;

    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    width: 100%;
    max-width: calc(var(--post-it-size)*2 + 30px);
    justify-content: start;
    gap: 30px;

    // media query .post-it-wrapper
    @include mquery.tablet {
        --post-it-size:166px;
    }

    // media query .post-it-wrapper
    @include mquery.landscape {
        max-width: calc(var(--post-it-size)*3 + 60px);
    }

    // media query .post-it-wrapper
    @include mquery.laptop {   
        max-width: 100%;
        gap: calc((912px - var(--post-it-size) * 5) / 4);
    }

    // media query .post-it-wrapper
    @include mquery.desktop-xl {   
        --post-it-size:200px;

        gap: calc((1160px - var(--post-it-size) * 5) / 4);
    }

    // Élement parent post-it
    .post-it-bloc {
        width: var(--post-it-size);
        height: var(--post-it-size);
        background: #FFD966;
        box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
    }

}

// Bande décorative colle post-it
.post-it-header {
    display: none;
    background: #FFDF7E;
    height: 28px;
    width: 100%;

    // media query .post-it-header
    @include mquery.tablet {   
        display: block;
    }
    
}

// Contenu texte du post-it
.post-it-text {
    @include typo.title($color:#242424, $weight:700);
    font-size: 15px;
    padding: 10px;
    margin: 0;

    // media query .post-it-text
    @include mquery.tablet {   
        font-size: 18px;
    }

    // media query .post-it-text
    @include mquery.desktop-xl {   
        font-size: 22px;
    }
}

// Media query special pour post-it sur petit mobile
@media (max-width: 350px) {

    .post-it-bloc {
        width: 100%!important;
    }

    .post-it-header {
        display: block!important;
    }

    .post-it-text {
        font-size: 18px!important;
    }

}

// Languette blanche qui contient les outils utilisés pour une section
.outil-languette {
    width: 100%;
    background: #F6F6F6;
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    border-radius: 0 0 50px 50px;
    box-shadow: inset 0px 4px 8px 0px rgba(0, 0, 0, 0.2);
    padding: 18px 20px 20px 20px;
    gap: 20px;
    align-items: center;

    // media query .outil-languette
    @include mquery.tablet {   
        padding: 18px 25px 20px 25px;
    }

    // media query .outil-languette
    @include mquery.landscape {   
        border-radius: 50px;
        padding: 18px 20px 17px 20px;
        box-shadow: none;
        width: -moz-fit-content;
        width: fit-content;
    }

    // media query .outil-languette
    @include mquery.laptop {   
        padding: 14px 25px 13px 25px;
    }



    // Conteneur des ronds d'outils
    .outil-blob-wrapper {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 18px;
    }

    // Texte languette outil
    .outil-txt {
        @include typo.title($color:#242424, $weight:700);
        font-size: 20px;
        margin: 0;

        // media query .outil-txt
        @include mquery.phone {   
            font-size: 18px;
        }

        // media query .outil-txt
        @include mquery.laptop {   
            font-size: 23px;
        }
    }

    // Cercle représentant un outil
    .outil-blob {
        position: relative;
        width: 40px;
        height: 40px;
        background-image: url("../img/outil-logo-placeholder.png");
        background-position: center;
        background-size: cover;
        background-repeat: no-repeat;
        border-radius: 50px;
        transition: outline 150ms ease;
        outline: 0px solid var(--couleur-focus-projet);
        cursor: help;

        &:hover {
            outline: 5px solid var(--couleur-focus-projet);
        }

        &::before {
            content: 'Nom outil';
            position: absolute;
            top: -58px;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            padding: 6px 10px;
            background: color.$ambiance-120;
            @include typo.title($color:#ffffff, $weight:700);
            font-size: 20px;
            outline: 2px solid var(--couleur-focus-projet);
            opacity: 0;
        }

        &::after {
            content: '';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 16px;
            height: 16px;
            background: color.$ambiance-120;
            border-top: 0px solid var(--couleur-focus-projet);
            border-right: 3px solid var(--couleur-focus-projet);
            border-bottom: 3px solid var(--couleur-focus-projet);
            border-left: 0px solid var(--couleur-focus-projet);
            -webkit-mask-image: url("/assets/mask/mask-triangle-etiquette.svg");
            mask-image: url("/assets/mask/mask-triangle-etiquette.svg");
            opacity: 0;
        }

        &:hover::before, &:hover::after {
            opacity: 1;
        }

        // media query .outil-blob
        @include mquery.laptop {   
            width: 50px;
            height: 50px;
        }

    }

    // Adobe Illustrator
    .outil-blob.outil-illustrator {
        background-image: url("../img/outil-logo-illustrator.png");

        &::before {
            content: 'Adobe Illustrator';
        }

    }

    // Adobe Photoshop
    .outil-blob.outil-photoshop {
        background-image: url("../img/outil-logo-photoshop.png");

        &::before {
            content: 'Adobe Photoshop';
        }

    }

    // Figma
    .outil-blob.outil-figma {
        background-image: url("../img/outil-logo-figma.png");

        &::before {
            content: 'Figma';
        }

    }

    // Git
    .outil-blob.outil-git {
        background-image: url("../img/outil-logo-git.png");

        &::before {
            content: 'Git';
        }

    }

    // Visual Studio Code
    .outil-blob.outil-vscode {
        background-image: url("../img/outil-logo-vscode.png");

        &::before {
            content: 'Visual Studio Code';
        }

    }
}

// Phrase illustrée par un emoji
.bloc-emoji-phrase {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 15px;

    // media query .bloc-emoji-phrase
    @include mquery.tablet {
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: start;
    }

    // media query .bloc-emoji-phrase
    @include mquery.landscape {
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
    }

    // media query .bloc-emoji-phrase
    @include mquery.laptop {
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: start;
    }

    .emoji {
        min-width: 62px;
        width: 62px;
        min-height: 62px;
        height: 62px;
        margin: 0;

        // media query .emoji
        @include mquery.tablet {
            padding-bottom: 10px;
        }

        // media query .emoji
        @include mquery.landscape {
            padding-bottom: 0px;
        }

        // media query .emoji
        @include mquery.laptop {
            padding-bottom: 10px;
            min-width: 68px;
            width: 68px;
            min-height: 68px;
            height: 68px;
        }
    }

    .phrase-illustrative {
        @include typo.title($color:var(--couleur-texte-projet), $weight:700);
        font-size: 20px;
        margin: 0;
        width: 100%;

        // media query .phrase-illustrative
        @include mquery.tablet {
            font-size: 24px;
        }

        // media query .phrase-illustrative
        @include mquery.desktop-xl {
            font-size: 28px;
        }

    }

}

.phrase-conclusion-page {
    @include typo.title($color:var(--couleur-texte-projet), $weight:700);
    font-size: 30px;
    text-align: center;

    // media query .phrase-conclusion-page
    @include mquery.landscape {
        font-size: 40px;
    }
}

// --------------- Section "résumé du projet" ---------------
#Resume_projet {
    padding: 0 0px 200px 0px;

    .module-resume {
        z-index: 1;
        padding: 60px 30px;
        background: rgba(color.$ambiance-160, 0.8);
        backdrop-filter: blur(4px);
        display: flex;
        flex-direction: column;
        gap: 40px;

        // media query section résumé
        @include mquery.tablet { 
            padding: 60px 80px;
        }

        // media query section résumé
        @include mquery.landscape { 
            padding: 60px 60px;
        }

        // media query section résumé
        @include mquery.laptop {   
            flex-direction: row;
            flex-wrap: nowrap;
            border-radius: 20px;
            gap: 60px;
            padding: 40px 30px;
        }

        // media query section résumé
        @include mquery.desktop-xl {   
            gap: 100px;
            padding: 40px 40px;
        }

        // Conteneur du texte du résumé projet
        .txt-resume-projet {
            width: 100%;

            // media query .txt-resume-projet
            @include mquery.laptop {  
                width: 72%;
            }

            // media query .txt-resume-projet
            @include mquery.desktop-xl {  
                width: 78%;
            }

            // Titre section "résumé du projet"
            .titre-section {
                background: none;
                width: 100%;
                margin: 0 0 15px 0;
                padding: 0px;

                // media query .titre-section
                @include mquery.laptop {  
                    text-align: left;
                }
            }

        }
        

        // Conteneur des infos clés du projet
        .infos-projet {
            width: 100%;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: start;
            gap: 30px;
            container-name: infos-projet;
            container-type: inline-size;

            // media query .infos-projet
            @include mquery.landscape {  
                justify-content: space-between;
            }

            // media query .infos-projet
            @include mquery.laptop {  
                width: 28%;
                gap: 20px;
                justify-content: start;
                flex-direction: column;
                height: 100%;
                padding-top: 5px;
            }

            // media query .infos-projet
            @include mquery.desktop-xl {  
                width: 22%;
            }

            // Bloc info clés
            .bloc-infos-projet {
                width: calc(50% - 15px);
                display: flex;
                flex-direction: column;

                // media query .bloc-infos-projet
                @include mquery.landscape {  
                    width: calc(25% - 30px);
                }

                // media query .bloc-infos-projet
                @include mquery.laptop {  
                    width: 100%;
                }

                & * {
                    @include typo.text($color:#ffffff, $weight:500);
                    font-size: 18px;
                    margin: 0;
                }

                & *:not(:last-child) {
                    margin: 0 0 2px 0;
                }

                & .titre-infos-projet {
                    @include typo.title($color:var(--fond-titre-projet), $weight:700);
                    font-size: 22px;
                    margin: 0 0 3px 0;
                }
            }

            // Phrase moins importante dans les infos résumé du projet
            .info-projet-secondaire {
                font-size: 15px;
                font-weight: 400;
                font-style: italic;
            }
        }

        @container infos-projet (max-width: 300px) {

            .bloc-infos-projet {
                width: 100%!important;
            }
            
        }
        
    }
}

// --------------- Section "identité visuelle" (si présente) ---------------

// ------ Bloc de typographie -----
.bloc-typographie-projet {
    display: flex;
    flex-direction: column;

    // Titre de la section
    .titre-typo {
        @include typo.title($color:var(--couleur-texte-projet), $weight:700);
        font-size: 34px;
        margin: 0 0 25px 0;

    }

    // X-ième typo
    .typo-projet {
        margin: 0 0 30px 0;

        // media query .typo-projet
        @include mquery.laptop {  
            margin: 0 0 50px 0;
        }

        // Retirer marge au dernier élément
        &:last-child {
            margin: 0;
        }

        .typo-showcase {
            @include typo.text($color:var(--couleur-texte-projet), $weight:700);
            font-size: 40px;
            margin: 0;
        }

        .typo-contexte {
            @include typo.text($color:var(--couleur-texte-projet), $weight:500);
            font-size: 28px;
            margin: 0;
        }
    }
}

// ------ Bloc de typographie -----
.bloc-palette-couleurs-projet {
    display: flex;
    flex-direction: column;

    // Titre de la section
    .titre-couleurs {
        @include typo.title($color:var(--couleur-texte-projet), $weight:700);
        font-size: 34px;
        margin: 0 0 25px 0;

    }

    // Bloc d'une palette de couleurs
    .palette-couleurs-projet {
        display: flex;
        flex-direction: column;
        margin-bottom: 50px;

        // Retirer marge au dernier élément
        &:last-child {
            margin: 0;
        }

        // Teinte principale d'une palette
        .palette-majeure {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            background: #929292;
            display: flex;
            justify-content: center;
            flex-direction: column;
            flex-wrap: wrap;
            margin-bottom: 20px;

            .nom-teinte-majeure {
                @include typo.title($color:#ffffff, $weight:700);
                font-size: 26px;
                margin: 0 0 8px 0;

                // media query .nom-teinte-majeure
                @include mquery.tablet {  
                    font-size: 32px;
                }

                // media query .nom-teinte-majeure
                @include mquery.landscape {  
                    font-size: 26px;
                }

                // media query .nom-teinte-majeure
                @include mquery.laptop {  
                    font-size: 32px;
                }
            }

            .code-teinte-majeure {
                @include typo.text($color:#ffffff, $weight:500);
                font-size: 24px;
                margin: 0;

                // media query .code-teinte-majeure
                @include mquery.tablet {  
                    font-size: 28px;
                }
            }

        }

        // Palette regroupant les sous-teintes
        .palette-mineure {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-between;
            gap: 15px;

            // media query .palette-mineure
            @include mquery.phone {  
                gap: 10px;
            }

            // media query .palette-mineure
            @include mquery.tablet {  
                gap: 20px;
            }

            // media query .palette-mineure
            @include mquery.landscape {  
                gap: 15px;
            }

            // media query .palette-mineure
            @include mquery.desktop-xl {  
                gap: 25px;
            }

            .carre-palette {
                min-width: 10px;
                width: 100%;
                height: 50px;
                background: #7a7a7a;
            }
        }
    }


}

// Bloc de fin de page qui mène vers d'autres projets
.bloc-page-end-projet {
    width: 100%;
    padding: 70px 30px 90px 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: color.$secondary-120;

    // media query .bloc-page-end-projet
    @include mquery.laptop {  
        padding: 130px 30px 200px 30px;
    }

    // Conteneur interne
    .bloc-end-wrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;

        // media query .bloc-end-wrapper
        @include mquery.laptop {  
            max-width: -moz-max-content;
            max-width: max-content;
            align-items: start;
        }

        // Titre bloc de fin
        .bloc-end-title {
            @include typo.special-title($color:#ffffff, $weight:800);
            font-size: 30px;
            margin: 0 auto 20px auto;
            text-align: center;

            // media query .bloc-end-title
            @include mquery.tablet {  
                font-size: 40px;
            }

            // media query .bloc-end-title
            @include mquery.landscape {  
                font-size: 50px;
                margin: 0 auto 30px auto;
            }

            // media query .bloc-end-title
            @include mquery.laptop {  
                font-size: 60px;
                margin: 0 0 40px 0;
            }
        }

        // Lien bloc de fin
        .bloc-end-btn {
            display: flex;
            align-items: center;
            background: color.$secondary-200;
            @include typo.title($color:#ffffff, $weight:500);
            font-size: 18px;
            text-align: center;
            padding: 18px 15px;
            border-radius: 8px;
            text-decoration: none;
            max-width: 450px;
            transition: transform 300ms ease-out;

            &:hover {
                background: color.$secondary-140;
            }

            // media query .bloc-end-btn
            @include mquery.tablet {  
                font-size: 22px;
            }

            // media query .bloc-end-btn
            @include mquery.laptop {  
                background: none;
                text-align: left;
                font-size: 34px;
                max-width: 100%;
                padding: 0;

                &:hover {
                    background: none;
                    transform: translateX(10px);
                    color: color.$secondary-20;
                }

                &:hover .bloc-end-ico {
                    background-image: url("/assets/svg/ico-endbloc-projet-amb20.svg");
                }
            }
        }

        // Icone du lien
        .bloc-end-ico {
            display: none;
            background-image: url("/assets/svg/ico-endbloc-projet-blanc.svg");
            width: 30px;
            height: 30px;
            margin: 0 12px 2px 0;

            // media query icone
            @include mquery.laptop {  
                display: block;
            }

            
        }

    }
}


/* Code de rétrocompatibilité ciblant Safari iOS 16 ou antérieur */
@supports (-webkit-hyphens:none){

    // Cadre scrollable vidéo ou maquette (fixe le mauvais rendu des outlines arrondies)
    .cadre-scrollable {
        outline: 0px solid var(--cadre-scroll-base-color);
        box-shadow: 0 0 0 4px var(--cadre-scroll-base-color);
    }

    // Nécessaire pour éviter que les angles inférieurs du cadre soit "rognés" par .cadre-content-wrapper
    .cadre-content-wrapper {
        height: 100%;
    }


    // Bulle des outils utilisés (fixe le mauvais rendu des outlines arrondies)
    .outil-blob {
        transition: box-shadow 150ms ease;

        &:hover {
            outline: 0px solid transparent!important;
            box-shadow: 0 0 0 5px color.$primary-100;
        }
    }
}


/* Code de rétrocompatibilité ciblant Safari iOS 15.5 ou antérieur */
@media not all and (min-resolution:.001dpcm) {

    // Fixe le non-support d'aspect ratio qui cause une hauteur trop grande
    .cadre-scrollable {
        height: 144vw;
        max-height: 497px;

            // media query .cadre-mobile
            @include mquery.landscape {  
                height: auto;
                max-height: 533px;
            }
            
            // media query .cadre-mobile
            @include mquery.laptop {  
                max-height: 604px;
            }  
    }
    
}

/* CODE DE RETROCOMPATIBILITE DEDIE A SAFARI iOS 13.7 ou antérieur */
@supports (-webkit-touch-callout: none) and (not(translate: none)) {

    // ---------- problèmes liés à la propriété gap -------------

    // Sommaire
    #Sommaire {

        #Sommaire_top_bar_desktop {
            .top-desk-wrapper {
                gap: 0;

                .top-desk-titre-ico {
                    margin-right: 8px;
                }
            }
        }

        #Sommaire_link_wrapper {
            gap: 0;

            .som-link {
                padding-top: 6px;
                padding-bottom: 6px;
            }
        }
    }

    // Règles de sections
    .section-bloc {
        gap: 0;
    }

    .section-ligne {
        gap: 0;
        margin-bottom: 25px;

        .section-colonne {
            margin-bottom: var(--gap-section);

            &:last-of-type {
                margin-bottom: 0;
            }

            // media query .section-ligne
            @include mquery.landscape {
                margin-bottom: 0;
                margin-right: var(--gap-section);

                &:last-of-type {
                    margin-right: 0;
                }
            }

            // Contenu des colonnes
            &>* {
                margin-bottom: 25px;
            }

            &>*:last-child {
                margin-bottom: 0;
            }
        }

        &.no-gap {
            .section-colonne {
                margin-bottom: 0 !important;
                margin-right: 0 !important;
            }
        }
    }

    // Paragraphes de texte de base
    .bloc-texte {
        gap: 0px;

        &>* {
            margin-bottom: 15px;

            // media query contenu bloc texte
            @include mquery.desktop-xl {
                margin-bottom: 18px;
            }
        }

        &>*:last-child {
            margin-bottom: 0px !important;
        }
    }

    // Barre des cadres maquette desktop
    .navibar-cadre-desk {
        .navivar-right {
            gap: 0px;

            .navibar-ico {
                margin-left: 12px;

                &:first-child {
                    margin-left: 0;
                }
            }
        }
    }

    // Conteneur post-it
    .post-it-wrapper {
        gap: 0px;
        justify-content: space-evenly;

        .post-it-bloc {
            margin-bottom: 18px;
        }
    }

    // Languette blanche qui contient les outils utilisés pour une section
    .outil-languette {
        gap: 0;

        .outil-txt {
            margin-right: 20px;
        }

        .outil-blob-wrapper {
            gap: 0;

            .outil-blob {
                margin-right: 18px;

                &:last-of-type {
                    margin-right: 0px;
                }
            }
        }
    }

    // Phrase illustrée par un emoji
    .bloc-emoji-phrase {
        gap: 0px;

        .emoji {
            margin-bottom: 15px;

            // media query .emoji
            @include mquery.tablet {
                margin-bottom: 0;
                margin-right: 15px;
            }

            // media query .emoji
            @include mquery.landscape {
                margin-bottom: 15px;
                margin-right: 0px;
            }

            // media query .emoji
            @include mquery.laptop {
                margin-bottom: 0;
                margin-right: 15px;
            }
        }
    }

    // Section "résumé"
    #Resume_projet {
        .module-resume {
            gap: 0px;

            .txt-resume-projet {
                margin-bottom: 40px;

                // media query .txt-resume-projet
                @include mquery.laptop {
                    margin-bottom: 0;
                    margin-right: 60px;
                }

                // media query .txt-resume-projet
                @include mquery.desktop-xl{
                    margin-right: 100px;
                }
            }

            .infos-projet { 
                gap: 0;
                justify-content: space-between;

                & > * {
                    margin-bottom: 20px;
                }
            }
        }
    }

    .bloc-palette-couleurs-projet {
        // Bloc d'une palette de couleurs
        .palette-couleurs-projet {
            // Palette regroupant les sous-teintes
            .palette-mineure {
                gap: 0px;

                .carre-palette {
                    margin-right: 15px;

                    // media query .carre-palette
                    @include mquery.phone {  
                        margin-right: 10px;
                    }

                    // media query .carre-palette
                    @include mquery.tablet {  
                        margin-right: 20px;
                    }

                    // media query .carre-palette
                    @include mquery.landscape {  
                        margin-right: 15px;
                    }

                    // media query .carre-palette
                    @include mquery.desktop-xl {  
                        margin-right: 25px;
                    }

                    &:last-of-type {
                        margin-right: 0px!important;
                    }

                }
            }
        }
    }

    // Module carrousel
    .carrousel-controls {
        gap: 0px;

        .prev-btn-carrousel {
            margin-right: 30px;

            // media query .prev-btn-carrousel (safari)
            @include mquery.laptop {  
                margin-right: 50px;
            }  
        }
    }




    // ---------- autres problèmes -------------

    // Problème de mise en forme étiquette "outil utilisé" à cause d'un non support de max-content
    .outil-languette {
        .outil-blob {
            &::before {
                white-space: nowrap;
                width: auto;
            }
        }
    }


}